services:
  - type: web
    name: nija-trading-bot
    env: docker
    dockerfilePath: ./Dockerfile
    dockerCommand: bash start.sh
    # Bake Git metadata into the Docker image at build time.
    # Render exposes RENDER_GIT_BRANCH and RENDER_GIT_COMMIT as built-in
    # variables; the Dockerfile ARG/ENV instructions then bake them as
    # runtime environment variables so start.sh can read them.
    dockerBuildArgs:
      GIT_BRANCH: $RENDER_GIT_BRANCH
      GIT_COMMIT: $RENDER_GIT_COMMIT
    envVars:
      - key: PORT
        value: 5000
      - key: WEB_CONCURRENCY
        value: 1
      - key: ALLOW_CONSUMER_USD
        value: true
      - key: LIVE_TRADING
        sync: false
      - key: COINBASE_API_KEY
        sync: false
      - key: COINBASE_API_SECRET
        sync: false
      - key: KRAKEN_MASTER_API_KEY
        sync: false
      - key: KRAKEN_MASTER_API_SECRET
        sync: false
