# .env.example - copy to .env and fill with real values (do NOT commit .env)

# ============================================================================
# COINBASE EXCHANGE - Master Account (Nija System)
# ============================================================================
# Get credentials from: https://portal.cdp.coinbase.com/
#
# New API format (Cloud API Key):
# The API key is in the format: organizations/{org_id}/apiKeys/{key_id}
# The API secret is the EC private key (PEM format)
COINBASE_API_KEY=organizations/ce77e4ea-ecca-42ec-912a-b6b4455ab9d0/apiKeys/your-api-key-id
COINBASE_API_SECRET="-----BEGIN EC PRIVATE KEY-----
YOUR_PRIVATE_KEY_HERE
-----END EC PRIVATE KEY-----"

# Legacy JWT format (if using older credentials):
# COINBASE_ORG_ID=14f3af21-7544-412c-8409-98dc92cd2eec
# COINBASE_JWT_PEM="-----BEGIN EC PRIVATE KEY-----\nYOUR_KEY_HERE\n-----END EC PRIVATE KEY-----"
# COINBASE_JWT_KID=d3c4f66b-809e-4ce4-9d6c-1a8d31b777d5
# COINBASE_JWT_ISSUER=organizations/14f3af21-7544-412c-8409-98dc92cd2eec

# Optional overrides
COINBASE_API_BASE=  # set if you need a different base than default brokerage path

# Portfolio selection (optional)
# Set this to the UUID of a specific portfolio to use for trading
# Use find_usd_portfolio.py to list all portfolios and their UUIDs
COINBASE_RETAIL_PORTFOLIO_ID=

# Balance detection (optional)
# By default, consumer/retail USD accounts are excluded from trading balance
# Set to "true" or "1" to include consumer USD accounts in trading balance
ALLOW_CONSUMER_USD=False

# ============================================================================
# KRAKEN EXCHANGE
# ============================================================================
# Get credentials from: https://www.kraken.com/u/security/api
# 
# IMPORTANT: Must use "Classic API Key" (NOT OAuth or App keys)
# To create: Settings > API > Generate New Key
#
# Required Permissions (ALL must be enabled):
#   ‚úÖ Query Funds
#   ‚úÖ Query Open Orders & Trades
#   ‚úÖ Query Closed Orders & Trades  
#   ‚úÖ Create & Modify Orders
#   ‚úÖ Cancel/Close Orders
#   ‚ùå Do NOT enable "Withdraw Funds"
# 
# MASTER ACCOUNT (Nija system trading account):
# üîß FIX #1: Use these exact variable names (not legacy KRAKEN_API_KEY)
KRAKEN_MASTER_API_KEY=
KRAKEN_MASTER_API_SECRET=
#
# USER ACCOUNTS (Individual user/investor accounts):
# Format: KRAKEN_USER_{FIRSTNAME}_API_KEY
# The {FIRSTNAME} is extracted from the user_id in config/users/kraken_users.json
# Example: user_id "daivon_frazier" ‚Üí KRAKEN_USER_DAIVON_*
#
KRAKEN_USER_DAIVON_API_KEY=
KRAKEN_USER_DAIVON_API_SECRET=
#
KRAKEN_USER_TANIA_API_KEY=
KRAKEN_USER_TANIA_API_SECRET=
#
# Add more users by following the pattern:
# KRAKEN_USER_{FIRSTNAME}_API_KEY=
# KRAKEN_USER_{FIRSTNAME}_API_SECRET=
#
# Legacy credentials (for backward compatibility, optional):
# Only used if KRAKEN_MASTER_* not set
KRAKEN_API_KEY=
KRAKEN_API_SECRET=

# ============================================================================
# ALPACA TRADING (Stocks)
# ============================================================================
# Get credentials from: https://alpaca.markets/
# Use paper trading credentials for testing
#
# MASTER ACCOUNT (Nija system trading account):
ALPACA_API_KEY=
ALPACA_API_SECRET=
ALPACA_PAPER=true  # Set to false for live trading
#
# USER ACCOUNTS (Individual user/investor accounts):
# Format: ALPACA_USER_{FIRSTNAME}_API_KEY
# The {FIRSTNAME} is extracted from the user_id in config/users/alpaca_users.json
#
ALPACA_USER_TANIA_API_KEY=
ALPACA_USER_TANIA_API_SECRET=
ALPACA_USER_TANIA_PAPER=true  # Set to false for live trading
#
# Add more users by following the pattern:
# ALPACA_USER_{FIRSTNAME}_API_KEY=
# ALPACA_USER_{FIRSTNAME}_API_SECRET=
# ALPACA_USER_{FIRSTNAME}_PAPER=true
#
# For testing, use these paper trading credentials:
# ALPACA_API_KEY=PKS2NORMEX6BMN6P3T63C7ICZ2
# ALPACA_API_SECRET=GPmZyiXDoP3A8VcsjcdiCcmdBdzFQnBsmyGSTFQpWyPJ
# ALPACA_PAPER=true

# ============================================================================
# OKX EXCHANGE (Optional)
# ============================================================================
# Get credentials from: https://www.okx.com/account/my-api
OKX_API_KEY=
OKX_API_SECRET=
OKX_PASSPHRASE=
OKX_USE_TESTNET=false  # Set to true for demo trading

# ============================================================================
# BINANCE EXCHANGE (Optional)
# ============================================================================
# Get credentials from: https://www.binance.com/en/my/settings/api-management
BINANCE_API_KEY=
BINANCE_API_SECRET=
BINANCE_USE_TESTNET=false  # Set to true for demo trading

# ============================================================================
# BOT CONFIGURATION
# ============================================================================
LIVE_TRADING=1
RETRY_DELAY=5
MAX_RETRIES=5
MIN_TRADE_PERCENT=0.02
MAX_TRADE_PERCENT=0.10
DEFAULT_TRADE_PERCENT=0.02

# Position Management
MAX_CONCURRENT_POSITIONS=7
MIN_CASH_TO_BUY=5.50
MINIMUM_TRADING_BALANCE=25.0
REENTRY_COOLDOWN_MINUTES=120

# Copy Trading Configuration for Small Accounts
# For accounts under $25, you can lower these minimums:
# MINIMUM_TRADING_BALANCE=15.0  # Minimum balance to start trading (default: 25.0)
# MIN_CASH_TO_BUY=5.0           # Minimum cash to place buy order (default: 5.50)

# Multi-Broker Independent Trading
# When enabled, each broker runs in its own isolated thread
# Failures in one broker won't affect trading on other brokers
MULTI_BROKER_INDEPENDENT=true

# Suppress Single Exchange Warning
# Set to "true" or "1" to suppress the warning when only one exchange is connected
# Default: false (show warning to encourage multi-exchange trading)
SUPPRESS_SINGLE_EXCHANGE_WARNING=false

# ============================================================================
# PRO MODE - Position Rotation Trading (ADVANCED)
# ============================================================================
# PRO MODE enables hedge-fund style position rotation:
#   - Open position values count as available capital
#   - Bot can close weak positions to fund better opportunities
#   - Never locks all capital (maintains minimum free reserve)
#   - Uses total capital (free + positions) for position sizing
#
# ‚ö†Ô∏è  RISK WARNING: More aggressive trading, higher complexity
# ‚úÖ  BENEFIT: Never "starves" by having all capital locked in positions
#
# Enable/disable PRO MODE (default: false)
# For copy trading with small accounts, set to true for:
#   - Faster entries
#   - Smaller profit targets
#   - Allows scalps that beat fees slightly
PRO_MODE=false
#
# Minimum free balance reserve % (default: 15%)
# Bot will maintain at least this % of total capital as free USD
# Example: With $100 total capital and 15% reserve, bot keeps minimum $15 free
PRO_MODE_MIN_RESERVE_PCT=0.15

# ============================================================================
# COPY TRADING MODE - Mirror Master Account Trades
# ============================================================================
# Enable copy trading to mirror master account trades to user accounts
# Modes:
#   - MASTER_FOLLOW: Users mirror all master trades with proportional sizing
#   - INDEPENDENT: Users trade independently (no copy trading)
#
# Default: INDEPENDENT (disabled for safety)
# Uncomment and set to MASTER_FOLLOW to enable copy trading:
# COPY_TRADING_MODE=MASTER_FOLLOW
#
# Copy Trading Allocation Strategy:
#   - proportional: Scale position size based on user balance vs master balance
#   - fixed_percent: Use fixed percentage of user balance
#
# Default: proportional allocation with auto-scaling based on account size

# Disabled Trading Pairs
# Comma-separated list of pairs to disable (e.g., XRP-USD for small accounts)
# XRP is disabled by default due to high spreads and low profit potential
DISABLED_PAIRS=XRP-USD

# ============================================================================
# NOTES ON USER CONFIGURATION
# ============================================================================
# 
# USER ACCOUNTS are configured in JSON files, not in this .env file:
#   - config/users/retail_kraken.json - Retail users on Kraken
#   - config/users/retail_alpaca.json - Retail users on Alpaca
#   - config/users/retail_coinbase.json - Retail users on Coinbase
#   - config/users/investor_kraken.json - Investor accounts on Kraken
#   - config/users/investor_alpaca.json - Investor accounts on Alpaca
#   - config/users/investor_coinbase.json - Investor accounts on Coinbase
# 
# To add a new user:
# 1. Edit the appropriate JSON file in config/users/
# 2. Add the user's credentials to this .env file following the pattern above
# 3. Restart the bot
#
# See USER_SETUP_GUIDE.md for detailed instructions.
#
# Environment variable naming pattern:
#   {BROKER}_USER_{FIRSTNAME}_API_KEY
#   {BROKER}_USER_{FIRSTNAME}_API_SECRET
#
# Example:
#   user_id: "jane_smith" in retail_kraken.json
#   Environment variables:
#     KRAKEN_USER_JANE_API_KEY=...
#     KRAKEN_USER_JANE_API_SECRET=...
#
# The {FIRSTNAME} is extracted from user_id (part before first underscore, uppercase)

