# NIJA Live Status Monitoring - Supervisor Configuration
#
# This configuration enables periodic monitoring of all user accounts
# with automatic alerting and snapshot persistence.
#
# Installation:
#   1. Copy to /etc/supervisor/conf.d/nija-monitoring.conf
#   2. Update paths to match your installation
#   3. Run: supervisorctl reread && supervisorctl update
#
# Monitor logs:
#   supervisorctl tail -f nija-status-monitor

[program:nija-status-monitor]
command=/usr/bin/python3 /path/to/nija/status_monitor.py
directory=/path/to/nija
user=nija
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/nija/status-monitor.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=
    PYTHONPATH="/path/to/nija",
    DATABASE_URL="postgresql://user:pass@localhost/nija",
    SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/WEBHOOK/URL"

[program:nija-alert-checker]
command=/usr/bin/python3 /path/to/nija/status_alerts.py
directory=/path/to/nija
user=nija
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/nija/alerts.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=
    PYTHONPATH="/path/to/nija",
    DATABASE_URL="postgresql://user:pass@localhost/nija",
    SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
