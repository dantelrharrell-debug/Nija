# ============================================================================
# NIJA MICRO CAPITAL MODE - ENVIRONMENT CONFIGURATION
# ============================================================================
# This is a configuration for micro capital accounts ($15-$500) with:
# - Ultra-conservative risk management
# - Dynamic position scaling based on equity
# - Multi-broker support (Coinbase + Kraken)
# - Advanced signal filtering and AI validation
# - Automatic feature enablement as capital grows
#
# TO USE THIS CONFIGURATION:
# 1. Copy this file to .env
# 2. Add your exchange API credentials below
# 3. Configure your account equity for dynamic scaling
# 4. Restart the bot
#
# ‚ö†Ô∏è  DO NOT COMMIT .env TO VERSION CONTROL!
# ============================================================================

# ============================================================================
# STEP 1: ADD YOUR EXCHANGE CREDENTIALS
# ============================================================================

# COINBASE (PRIMARY BROKER)
# Get credentials from: https://portal.cdp.coinbase.com/
# The API key is in the format: organizations/{org_id}/apiKeys/{key_id}
COINBASE_API_KEY=organizations/YOUR_ORG_ID/apiKeys/YOUR_KEY_ID
COINBASE_API_SECRET="-----BEGIN EC PRIVATE KEY-----
YOUR_PRIVATE_KEY_HERE
-----END EC PRIVATE KEY-----"

# KRAKEN (SECONDARY BROKER)
# Get credentials from: https://www.kraken.com/u/security/api
# Required Permissions: Query Funds, Query/Create/Cancel Orders, Query Trades
KRAKEN_MASTER_API_KEY=
KRAKEN_MASTER_API_SECRET=

# ============================================================================
# STEP 2: OPERATIONAL MODE CONFIGURATION
# ============================================================================

# Micro Capital Mode - Optimized for accounts under $500
MICRO_CAPITAL_MODE=true

# Trading Mode - Master only initially (copy trading auto-enabled at $500+)
MODE=MASTER_ONLY

# Broker Configuration
PRIMARY_BROKER=COINBASE
SECONDARY_BROKER=KRAKEN

# Live Trading
LIVE_TRADING=1

# PRO Mode - Required for efficient capital usage
PRO_MODE=true
PRO_MODE_MIN_RESERVE_PCT=0.15

# Copy Trading - Auto-enabled when equity >= $500
# Initially set to INDEPENDENT, will change to MASTER_FOLLOW at $500+

# ============================================================================
# STEP 3: BALANCE AND TRADE SIZE REQUIREMENTS
# ============================================================================

# Minimum balance to start trading
MINIMUM_TRADING_BALANCE=15.00

# Minimum trade size
MIN_CASH_TO_BUY=5.00

# Exchange-specific minimum balances
MIN_BALANCE_COINBASE=10.00
MIN_BALANCE_KRAKEN=50.00

# ============================================================================
# STEP 4: POSITION MANAGEMENT
# ============================================================================

# Maximum concurrent positions (scales dynamically)
# $15-$249: 2 positions
# $250+: 3 positions
# $500+: 4 positions
# $1000+: 6 positions
MAX_CONCURRENT_POSITIONS=2

# Position sizing
MAX_POSITION_PCT=18.0
MIN_TRADE_PERCENT=0.03
MAX_TRADE_PERCENT=0.18
DEFAULT_TRADE_PERCENT=0.03

# ============================================================================
# STEP 5: RISK MANAGEMENT
# ============================================================================

# Risk per trade (scales dynamically)
# $15-$249: 3% per trade
# $250+: 4% per trade
# $1000+: 5% per trade
RISK_PER_TRADE=3.0

# Daily and drawdown limits
DAILY_MAX_LOSS=6.0
MAX_DRAWDOWN=12.0

# Position sizing method
POSITION_SIZER=HYBRID

# Hybrid position sizer weights
KELLY_WEIGHT=0.30
VOLATILITY_WEIGHT=0.40
EQUITY_WEIGHT=0.30

# ============================================================================
# STEP 6: SIGNAL FILTERING
# ============================================================================

# Signal quality requirements
MIN_SIGNAL_SCORE=0.75
MIN_AI_CONFIDENCE=0.70
MIN_RISK_REWARD=1.8

# ============================================================================
# STEP 7: TRADING PAIRS
# ============================================================================

# Only trade major cryptocurrencies
TRADE_ONLY=BTC,ETH,SOL

# Disabled pairs (XRP disabled by default due to high spreads)
DISABLED_PAIRS=XRP-USD,XRP-USDT,XRPUSD,XRPUSDT

# ============================================================================
# STEP 8: ADVANCED FEATURES
# ============================================================================

# Market analysis engines
MARKET_REGIME_ENGINE=true
SIGNAL_ENSEMBLE=true
AI_TRADE_FILTER=true

# Leverage (auto-enabled at $1000+)
LEVERAGE_ENABLED=false

# Arbitrage (disabled)
ARBITRAGE=false

# ============================================================================
# STEP 9: SAFETY AND ERROR HANDLING
# ============================================================================

# Automatic shutoff on errors
AUTO_SHUTOFF_ON_ERRORS=true
MAX_CONSECUTIVE_LOSSES=3

# Capital allocation
FORCE_CASH_BUFFER=15.0

# ============================================================================
# STEP 10: EXCHANGE PRIORITY
# ============================================================================

EXCHANGE_PRIORITY=COINBASE,KRAKEN

# Multi-broker mode
MULTI_BROKER_INDEPENDENT=true

# Suppress single exchange warning (if only using one broker)
SUPPRESS_SINGLE_EXCHANGE_WARNING=false

# ============================================================================
# STEP 11: LOGGING AND DIAGNOSTICS
# ============================================================================

# Enable detailed logging
LOG_SIGNAL_REJECTIONS=true
LOG_ENTRY_BLOCK_REASONS=true

# Log level
LOG_LEVEL=INFO

# ============================================================================
# STEP 12: STATE MANAGEMENT
# ============================================================================

# Reset states on startup
RESET_STRATEGY_STATE=true
CLEAR_ENTRY_BLOCKS=true
FLUSH_CACHED_BALANCES=true

# ============================================================================
# STEP 13: STANDARD BOT CONFIGURATION
# ============================================================================

# Retry settings
RETRY_DELAY=5
MAX_RETRIES=5

# Cooldown periods
REENTRY_COOLDOWN_MINUTES=120

# Initial capital tracking
INITIAL_CAPITAL=auto

# Live capital verification (required for live trading)
LIVE_CAPITAL_VERIFIED=false

# ============================================================================
# DYNAMIC SCALING INFORMATION
# ============================================================================
#
# This configuration automatically scales as your equity grows:
#
# üìä AT $250 EQUITY:
#    ‚Ä¢ Max Positions: 2 ‚Üí 3
#    ‚Ä¢ Risk Per Trade: 3% ‚Üí 4%
#
# üìä AT $500 EQUITY:
#    ‚Ä¢ Max Positions: 3 ‚Üí 4
#    ‚Ä¢ Copy Trading: Disabled ‚Üí Enabled
#    ‚Ä¢ Mode: MASTER_ONLY ‚Üí Can enable copy trading
#
# üìä AT $1000 EQUITY:
#    ‚Ä¢ Max Positions: 4 ‚Üí 6
#    ‚Ä¢ Risk Per Trade: 4% ‚Üí 5%
#    ‚Ä¢ Leverage: Disabled ‚Üí Enabled
#
# The bot will automatically adjust these settings based on your
# current account balance. No manual changes needed!
#
# ============================================================================

# ============================================================================
# CONFIGURATION SUMMARY
# ============================================================================
#
# üéØ STARTING CONFIGURATION ($15-$249):
#    ‚Ä¢ 2 concurrent positions
#    ‚Ä¢ 3% risk per trade
#    ‚Ä¢ 18% max position size
#    ‚Ä¢ No copy trading
#    ‚Ä¢ No leverage
#    ‚Ä¢ Trade BTC, ETH, SOL only
#    ‚Ä¢ 6% daily loss limit
#    ‚Ä¢ 12% max drawdown
#    ‚Ä¢ 15% cash buffer
#
# üõ°Ô∏è  SAFETY FEATURES:
#    ‚Ä¢ Auto-shutoff on 3 consecutive losses
#    ‚Ä¢ Signal score must be ‚â•75%
#    ‚Ä¢ AI confidence must be ‚â•70%
#    ‚Ä¢ Risk/reward must be ‚â•1.8
#    ‚Ä¢ Market regime detection
#    ‚Ä¢ Signal ensemble validation
#    ‚Ä¢ AI trade filtering
#
# üí± BROKER CONFIGURATION:
#    ‚Ä¢ Primary: Coinbase (min $10 balance)
#    ‚Ä¢ Secondary: Kraken (min $50 balance)
#    ‚Ä¢ Independent broker threads
#    ‚Ä¢ Exchange priority: Coinbase > Kraken
#
# üìä POSITION MANAGEMENT:
#    ‚Ä¢ Hybrid position sizer
#    ‚Ä¢ 30% Kelly criterion
#    ‚Ä¢ 40% volatility-based
#    ‚Ä¢ 30% equity-based
#    ‚Ä¢ PRO mode for capital efficiency
#
# üìù LOGGING:
#    ‚Ä¢ Signal rejections logged
#    ‚Ä¢ Entry blocks logged
#    ‚Ä¢ Full diagnostic information
#
# ============================================================================

# ============================================================================
# OPTIONAL: ADDITIONAL USER ACCOUNTS (FOR COPY TRADING AT $500+)
# ============================================================================
#
# When your equity reaches $500, copy trading will be auto-enabled.
# Configure additional user accounts in JSON files:
#   - config/users/retail_kraken.json
#   - config/users/retail_coinbase.json
#
# Then add their credentials here:
# KRAKEN_USER_{FIRSTNAME}_API_KEY=
# KRAKEN_USER_{FIRSTNAME}_API_SECRET=
#
# COINBASE_USER_{FIRSTNAME}_API_KEY=
# COINBASE_USER_{FIRSTNAME}_API_SECRET=
#
# ============================================================================

# ============================================================================
# QUICK START CHECKLIST
# ============================================================================
#
# [ ] Step 1: Add Coinbase API credentials above
# [ ] Step 2: Add Kraken API credentials above (if using)
# [ ] Step 3: Set LIVE_CAPITAL_VERIFIED=true when ready for live trading
# [ ] Step 4: Copy this file to .env
# [ ] Step 5: Restart the bot
# [ ] Step 6: Monitor first few trades closely
# [ ] Step 7: Configuration will auto-scale as equity grows
#
# For detailed setup instructions, see:
# - GETTING_STARTED.md (general setup)
# - bot/micro_capital_config.py (configuration details)
# - MICRO_MASTER_GUIDE.md (micro capital guide)
#
# ============================================================================

# ============================================================================
# SUPPORT AND SAFETY NOTES
# ============================================================================
#
# ‚ö†Ô∏è  IMPORTANT: This is optimized for micro capital accounts.
#     You are responsible for monitoring your account.
#
# üõ°Ô∏è  SAFETY FEATURES ALWAYS ACTIVE:
#    ‚Ä¢ Emergency stop on 3 consecutive losses
#    ‚Ä¢ 6% daily loss limit
#    ‚Ä¢ 12% max drawdown protection
#    ‚Ä¢ All positions require stop-loss
#    ‚Ä¢ Minimum $5 trade size for fee efficiency
#
# üìä DYNAMIC SCALING:
#    ‚Ä¢ Configuration automatically adjusts as equity grows
#    ‚Ä¢ No manual changes needed for feature enablement
#    ‚Ä¢ Smooth transition from starter to advanced features
#
# üîÑ STATE MANAGEMENT:
#    ‚Ä¢ Strategy state reset on startup
#    ‚Ä¢ Entry blocks cleared on startup
#    ‚Ä¢ Cached balances flushed on startup
#    ‚Ä¢ Clean slate for each session
#
# ============================================================================
